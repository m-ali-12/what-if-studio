<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel ‚Äî What If Studios Portfolio</title>
  <meta name="robots" content="noindex, nofollow">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600&display=swap" rel="stylesheet">
  <style>
  *,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
  :root{
    --purple:#5c3d9c;--purple-dark:#3d2568;--purple-light:#7b5cb8;
    --accent:#f5f04a;--bg:#f0ecff;--card:#fff;
    --text:#1a1130;--text-mid:#4a3f66;--text-muted:#7a6d99;
    --border:rgba(92,61,156,.15);--radius:14px;
    --t:all .3s cubic-bezier(.4,0,.2,1);
    --green:#16a34a;--red:#dc2626;--orange:#d97706;
  }
  html{scroll-behavior:smooth}
  body{font-family:'DM Sans',sans-serif;background:var(--bg);color:var(--text);min-height:100vh}

  /* ‚ïê‚ïê LOGIN SCREEN ‚ïê‚ïê */
  .login-screen{position:fixed;inset:0;z-index:99999;background:linear-gradient(160deg,#0d0720 0%,#2a1455 50%,#4a2e8a 100%);display:flex;align-items:center;justify-content:center;padding:20px}
  .login-screen.hidden{display:none}
  .login-box{background:#fff;border-radius:24px;padding:44px 40px;width:100%;max-width:420px;box-shadow:0 40px 100px rgba(0,0,0,.5);text-align:center}
  .login-logo{width:60px;height:60px;border-radius:16px;object-fit:cover;margin:0 auto 18px}
  .login-box h2{font-family:'Syne',sans-serif;font-size:26px;font-weight:800;color:var(--text);margin-bottom:6px}
  .login-box p{color:var(--text-muted);font-size:14px;margin-bottom:28px}
  .login-field{position:relative;margin-bottom:16px;text-align:left}
  .login-field label{display:block;font-size:12px;font-weight:700;color:var(--text-mid);text-transform:uppercase;letter-spacing:.06em;margin-bottom:6px}
  .login-field input{width:100%;padding:13px 44px 13px 16px;border:1.5px solid var(--border);border-radius:12px;font-family:inherit;font-size:15px;color:var(--text);outline:none;transition:var(--t);background:var(--bg)}
  .login-field input:focus{border-color:var(--purple);background:#fff;box-shadow:0 0 0 3px rgba(92,61,156,.1)}
  .login-field .eye-btn{position:absolute;right:14px;bottom:14px;background:none;border:none;cursor:pointer;color:var(--text-muted);font-size:15px;transition:var(--t)}
  .login-field .eye-btn:hover{color:var(--purple)}
  .login-btn{width:100%;padding:14px;background:linear-gradient(135deg,var(--purple),var(--purple-light));color:#fff;border:none;border-radius:12px;font-family:inherit;font-size:16px;font-weight:700;cursor:pointer;transition:var(--t);margin-top:4px;display:flex;align-items:center;justify-content:center;gap:9px}
  .login-btn:hover{transform:translateY(-2px);box-shadow:0 10px 28px rgba(92,61,156,.4)}
  .login-error{background:rgba(220,38,38,.08);border:1px solid rgba(220,38,38,.2);color:var(--red);border-radius:10px;padding:10px 14px;font-size:13px;font-weight:600;margin-top:14px;display:none;align-items:center;gap:8px}
  .login-error.show{display:flex}
  .login-shake{animation:shake .4s ease}
  @keyframes shake{0%,100%{transform:translateX(0)}20%,60%{transform:translateX(-8px)}40%,80%{transform:translateX(8px)}}

  /* ‚îÄ‚îÄ TOP BAR ‚îÄ‚îÄ */
  .admin-top{background:linear-gradient(135deg,var(--purple-dark),var(--purple));padding:0 28px;height:64px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:100;box-shadow:0 2px 20px rgba(61,37,104,.35)}
  .admin-brand{display:flex;align-items:center;gap:12px;color:#fff;font-family:'Syne',sans-serif;font-size:18px;font-weight:800}
  .admin-brand img{width:32px;height:32px;border-radius:8px;object-fit:cover}
  .admin-badge{background:var(--accent);color:var(--purple-dark);padding:3px 10px;border-radius:50px;font-size:11px;font-weight:800;letter-spacing:.06em;text-transform:uppercase}
  .top-actions{display:flex;gap:10px;align-items:center}
  .top-btn{padding:8px 18px;border-radius:50px;font-family:inherit;font-size:13px;font-weight:700;cursor:pointer;transition:var(--t);border:none;display:flex;align-items:center;gap:7px}
  .btn-view{background:rgba(255,255,255,.15);color:#fff;border:1px solid rgba(255,255,255,.2)}
  .btn-view:hover{background:rgba(255,255,255,.25)}
  .btn-save{background:var(--accent);color:var(--purple-dark)}
  .btn-save:hover{background:#fff;transform:translateY(-2px)}

  /* ‚îÄ‚îÄ LAYOUT ‚îÄ‚îÄ */
  .admin-layout{display:grid;grid-template-columns:260px 1fr;min-height:calc(100vh - 64px)}
  @media(max-width:900px){.admin-layout{grid-template-columns:1fr}}

  /* ‚îÄ‚îÄ SIDEBAR ‚îÄ‚îÄ */
  .admin-sidebar{background:var(--card);border-right:1px solid var(--border);padding:24px 18px}
  .sidebar-title{font-size:11px;font-weight:800;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em;margin-bottom:12px;padding:0 8px}
  .sidebar-stats{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:24px}
  .sstat{background:var(--bg);border-radius:12px;padding:14px;text-align:center;border:1px solid var(--border)}
  .sstat strong{display:block;font-family:'Syne',sans-serif;font-size:24px;font-weight:800;color:var(--purple);margin-bottom:2px}
  .sstat span{font-size:11px;color:var(--text-muted);font-weight:600}
  .cats-list{display:flex;flex-direction:column;gap:4px;margin-bottom:24px}
  .cat-item{padding:10px 12px;border-radius:10px;cursor:pointer;display:flex;align-items:center;justify-content:space-between;font-size:14px;font-weight:600;color:var(--text-mid);transition:var(--t);border:1px solid transparent}
  .cat-item:hover{background:var(--bg);border-color:var(--border)}
  .cat-item.selected{background:linear-gradient(135deg,var(--purple),var(--purple-light));color:#fff;border-color:transparent}
  .cat-item-left{display:flex;align-items:center;gap:9px}
  .cat-badge{background:rgba(92,61,156,.12);color:var(--purple);border-radius:50px;font-size:11px;font-weight:800;padding:2px 8px;min-width:24px;text-align:center}
  .cat-item.selected .cat-badge{background:rgba(255,255,255,.2);color:#fff}
  .sidebar-sep{height:1px;background:var(--border);margin:16px 0}
  .quick-add-btn{width:100%;padding:12px;background:linear-gradient(135deg,var(--purple),var(--purple-light));color:#fff;border:none;border-radius:12px;font-family:inherit;font-size:14px;font-weight:700;cursor:pointer;transition:var(--t);display:flex;align-items:center;justify-content:center;gap:8px}
  .quick-add-btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(92,61,156,.3)}
  .danger-zone{margin-top:20px}
  .danger-title{font-size:11px;font-weight:800;color:var(--red);text-transform:uppercase;letter-spacing:.1em;margin-bottom:10px}
  .reset-btn{width:100%;padding:10px;background:transparent;color:var(--red);border:1.5px solid rgba(220,38,38,.25);border-radius:10px;font-family:inherit;font-size:13px;font-weight:600;cursor:pointer;transition:var(--t);display:flex;align-items:center;justify-content:center;gap:7px}
  .reset-btn:hover{background:rgba(220,38,38,.08)}

  /* ‚îÄ‚îÄ MAIN AREA ‚îÄ‚îÄ */
  .admin-main{padding:28px;overflow-y:auto}
  .main-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;flex-wrap:wrap;gap:12px}
  .main-header h2{font-family:'Syne',sans-serif;font-size:22px;font-weight:800;letter-spacing:-.02em}
  .main-header h2 span{color:var(--purple)}
  .add-btn{padding:10px 22px;background:linear-gradient(135deg,var(--purple),var(--purple-light));color:#fff;border:none;border-radius:50px;font-family:inherit;font-size:14px;font-weight:700;cursor:pointer;transition:var(--t);display:flex;align-items:center;gap:8px}
  .add-btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(92,61,156,.3)}

  /* ‚îÄ‚îÄ ITEMS TABLE ‚îÄ‚îÄ */
  .items-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px;margin-bottom:32px}
  .item-card{background:var(--card);border-radius:var(--radius);border:1px solid var(--border);overflow:hidden;transition:var(--t);position:relative}
  .item-card:hover{box-shadow:0 8px 28px rgba(92,61,156,.12);transform:translateY(-3px)}
  .item-thumb{aspect-ratio:1/1;position:relative;overflow:hidden;background:linear-gradient(135deg,#e4d9ff,#f0eaff)}
  .item-thumb img{width:100%;height:100%;object-fit:cover;display:block}
  .item-thumb-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:8px;color:rgba(92,61,156,.35)}
  .item-thumb-placeholder i{font-size:32px}
  .item-thumb-placeholder span{font-size:11px;font-weight:600;text-transform:uppercase}
  .item-body{padding:14px}
  .item-cat-tag{display:inline-flex;align-items:center;gap:4px;background:rgba(92,61,156,.08);color:var(--purple);padding:2px 9px;border-radius:50px;font-size:10px;font-weight:700;text-transform:uppercase;margin-bottom:7px}
  .item-title{font-size:14px;font-weight:700;margin-bottom:3px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .item-desc{font-size:12px;color:var(--text-muted);line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;margin-bottom:12px}
  .item-actions{display:flex;gap:6px}
  .iact{padding:6px 14px;border-radius:8px;font-family:inherit;font-size:12px;font-weight:700;cursor:pointer;transition:var(--t);border:none;display:flex;align-items:center;gap:5px;flex:1;justify-content:center}
  .iact-edit{background:rgba(92,61,156,.08);color:var(--purple)}
  .iact-edit:hover{background:var(--purple);color:#fff}
  .iact-del{background:rgba(220,38,38,.07);color:var(--red)}
  .iact-del:hover{background:var(--red);color:#fff}

  /* ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ */
  .modal-bg{position:fixed;inset:0;z-index:9000;background:rgba(10,5,25,.8);backdrop-filter:blur(12px);display:flex;align-items:center;justify-content:center;padding:20px;opacity:0;pointer-events:none;transition:opacity .3s ease}
  .modal-bg.open{opacity:1;pointer-events:all}
  .modal{background:var(--card);border-radius:22px;width:100%;max-width:580px;max-height:90vh;overflow-y:auto;box-shadow:0 40px 100px rgba(0,0,0,.4);transform:scale(.93);transition:transform .3s cubic-bezier(.4,0,.2,1)}
  .modal-bg.open .modal{transform:scale(1)}
  .modal-head{padding:24px 28px 0;display:flex;align-items:center;justify-content:space-between}
  .modal-head h3{font-family:'Syne',sans-serif;font-size:20px;font-weight:800}
  .modal-close{width:34px;height:34px;border-radius:50%;background:var(--bg);border:none;cursor:pointer;font-size:15px;display:flex;align-items:center;justify-content:center;color:var(--text-mid);transition:var(--t)}
  .modal-close:hover{background:var(--red);color:#fff}
  .modal-body{padding:24px 28px 28px}
  .form-row{margin-bottom:18px}
  .form-row label{display:block;font-size:13px;font-weight:700;color:var(--text-mid);margin-bottom:7px;text-transform:uppercase;letter-spacing:.04em}
  .form-row input,.form-row textarea,.form-row select{width:100%;padding:12px 15px;border:1.5px solid var(--border);border-radius:11px;font-family:inherit;font-size:14px;color:var(--text);background:var(--bg);outline:none;transition:var(--t)}
  .form-row input:focus,.form-row textarea:focus,.form-row select:focus{border-color:var(--purple);background:#fff;box-shadow:0 0 0 3px rgba(92,61,156,.1)}
  .form-row textarea{resize:vertical;min-height:90px}
  .form-row select{cursor:pointer}
  .img-input-wrap{display:flex;gap:10px;align-items:flex-start}
  .img-input-wrap input{flex:1}
  .img-preview{width:70px;height:70px;border-radius:10px;object-fit:cover;border:1.5px solid var(--border);display:none}
  .img-preview.show{display:block}
  .img-hint{font-size:12px;color:var(--text-muted);margin-top:5px;line-height:1.5}
  .tags-input{display:flex;flex-wrap:wrap;gap:6px;padding:10px;border:1.5px solid var(--border);border-radius:11px;min-height:48px;cursor:text;background:var(--bg)}
  .tags-input.focused{border-color:var(--purple);background:#fff;box-shadow:0 0 0 3px rgba(92,61,156,.1)}
  .tag-chip{background:rgba(92,61,156,.1);color:var(--purple);padding:3px 10px;border-radius:50px;font-size:12px;font-weight:600;display:flex;align-items:center;gap:5px;cursor:pointer}
  .tag-chip:hover{background:var(--red);color:#fff}
  .tag-type-input{border:none;background:transparent;outline:none;font-family:inherit;font-size:13px;color:var(--text);min-width:80px}
  .modal-foot{padding:0 28px 28px;display:flex;gap:10px}
  .modal-btn{flex:1;padding:13px;border-radius:12px;font-family:inherit;font-size:15px;font-weight:700;cursor:pointer;transition:var(--t);border:none;display:flex;align-items:center;justify-content:center;gap:8px}
  .btn-cancel{background:var(--bg);color:var(--text-mid);border:1.5px solid var(--border)}
  .btn-cancel:hover{border-color:var(--red);color:var(--red)}
  .btn-submit{background:linear-gradient(135deg,var(--purple),var(--purple-light));color:#fff}
  .btn-submit:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(92,61,156,.3)}

  /* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
  .toast{position:fixed;bottom:28px;left:50%;transform:translateX(-50%) translateY(20px);background:#1a1130;color:#fff;padding:12px 24px;border-radius:50px;font-size:14px;font-weight:600;display:flex;align-items:center;gap:10px;box-shadow:0 8px 28px rgba(0,0,0,.3);opacity:0;pointer-events:none;transition:all .35s cubic-bezier(.4,0,.2,1);z-index:9999;white-space:nowrap}
  .toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
  .toast i{color:var(--accent)}

  /* ‚îÄ‚îÄ EXPORT/IMPORT ‚îÄ‚îÄ */
  .tools-section{background:var(--card);border-radius:var(--radius);border:1px solid var(--border);padding:22px;margin-top:32px}
  .tools-title{font-size:13px;font-weight:800;text-transform:uppercase;letter-spacing:.08em;color:var(--text-muted);margin-bottom:16px}
  .tools-row{display:flex;gap:10px;flex-wrap:wrap}
  .tool-btn{padding:9px 18px;border-radius:50px;font-family:inherit;font-size:13px;font-weight:700;cursor:pointer;transition:var(--t);display:flex;align-items:center;gap:7px;border:1.5px solid var(--border);background:transparent;color:var(--text-mid)}
  .tool-btn:hover{border-color:var(--purple);color:var(--purple);background:rgba(92,61,156,.06)}
  .tool-btn.danger:hover{border-color:var(--red);color:var(--red);background:rgba(220,38,38,.06)}

  @media(max-width:600px){.admin-top{padding:0 16px}.admin-main{padding:18px 16px}.modal-body,.modal-foot{padding:18px 20px}.modal-head{padding:20px 20px 0}}
  </style>
</head>
<body>

<!-- ‚ïê‚ïê LOGIN SCREEN ‚ïê‚ïê -->
<div class="login-screen" id="loginScreen">
  <div class="login-box">
    <img src="/assests/logo/logo.jpeg" onerror="this.src='logo.jpeg'" alt="What If Studios" class="login-logo">
    <h2>Admin Login</h2>
    <p>What If Studios ‚Äî Portfolio Admin Panel</p>
    <div class="login-field">
      <label>Username</label>
      <input type="text" id="loginUser" placeholder="Enter username" autocomplete="username">
    </div>
    <div class="login-field">
      <label>Password</label>
      <input type="password" id="loginPass" placeholder="Enter password" autocomplete="current-password">
      <button class="eye-btn" id="eyeBtn" type="button"><i class="fas fa-eye"></i></button>
    </div>
    <button class="login-btn" id="loginBtn"><i class="fas fa-lock-open"></i> Login to Admin</button>
    <div class="login-error" id="loginError"><i class="fas fa-exclamation-circle"></i> <span>Wrong username or password!</span></div>
  </div>
</div>

<!-- TOP BAR -->
<div class="admin-top">
  <div class="admin-brand">
    <img src="../logo.jpeg" onerror="this.src='logo.jpeg'" alt="WIS">
    <span>Admin Panel</span>
    <span class="admin-badge">Portfolio</span>
  </div>
  <div class="top-actions">
    <span class="top-btn btn-view" id="loggedUserBadge" style="cursor:default"><i class="fas fa-user-circle"></i> <span id="loggedName">Admin</span></span>
    <a href="../portfolio.html" onerror="this.href='portfolio.html'" target="_blank" class="top-btn btn-view"><i class="fas fa-eye"></i> View Site</a>
    <button class="top-btn btn-save" id="saveAllBtn"><i class="fas fa-save"></i> Save All</button>
    <button class="top-btn" id="logoutBtn" style="background:rgba(220,38,38,.25);color:#fff;border:1px solid rgba(220,38,38,.3)"><i class="fas fa-sign-out-alt"></i> Logout</button>
  </div>
</div>

<div class="admin-layout">
  <!-- SIDEBAR -->
  <aside class="admin-sidebar">
    <div class="sidebar-title">Overview</div>
    <div class="sidebar-stats">
      <div class="sstat"><strong id="sb-total">0</strong><span>Total</span></div>
      <div class="sstat"><strong id="sb-cats">0</strong><span>Categories</span></div>
    </div>
    <div class="sidebar-title">Filter by Category</div>
    <div class="cats-list" id="catsList"></div>
    <button class="quick-add-btn" id="quickAddBtn"><i class="fas fa-plus"></i> Add New Project</button>
    <div class="sidebar-sep"></div>
    <div class="danger-zone">
      <div class="danger-title"><i class="fas fa-exclamation-triangle"></i> Danger Zone</div>
      <button class="reset-btn" id="resetDataBtn"><i class="fas fa-undo"></i> Reset to Default Data</button>
    </div>
  </aside>

  <!-- MAIN -->
  <main class="admin-main">
    <div class="main-header">
      <h2>Projects ‚Äî <span id="activeLabel">All</span></h2>
      <button class="add-btn" id="addBtn"><i class="fas fa-plus"></i> Add Project</button>
    </div>
    <div class="items-grid" id="itemsGrid"></div>

    <!-- EXPORT / IMPORT TOOLS -->
    <div class="tools-section">
      <div class="tools-title"><i class="fas fa-tools"></i> Data Tools</div>
      <div class="tools-row">
        <button class="tool-btn" id="exportBtn"><i class="fas fa-download"></i> Export JSON</button>
        <label class="tool-btn" style="cursor:pointer">
          <i class="fas fa-upload"></i> Import JSON
          <input type="file" accept=".json" id="importFile" style="display:none">
        </label>
        <button class="tool-btn" id="copyDataBtn"><i class="fas fa-copy"></i> Copy to Clipboard</button>
        <a href="portfolio.html" target="_blank" class="tool-btn" style="text-decoration:none"><i class="fas fa-external-link-alt"></i> Open Portfolio</a>
      </div>
    </div>
  </main>
</div>

<!-- ADD / EDIT MODAL -->
<div class="modal-bg" id="modalBg">
  <div class="modal">
    <div class="modal-head">
      <h3 id="modalTitle">Add New Project</h3>
      <button class="modal-close" id="modalClose"><i class="fas fa-times"></i></button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="editId">
      <div class="form-row">
        <label>Project Title *</label>
        <input type="text" id="f-title" placeholder="e.g. Brand Logo Design">
      </div>
      <div class="form-row">
        <label>Category *</label>
        <select id="f-cat">
          <option value="">‚Äî Select Category ‚Äî</option>
          <option>Logo Design</option>
          <option>Social Media</option>
          <option>Thumbnails</option>
          <option>Poster & Flyer</option>
          <option>Brand Identity</option>
          <option>Reels & Video</option>
        </select>
      </div>
      <div class="form-row">
        <label>Description</label>
        <textarea id="f-desc" placeholder="Short description of this project‚Ä¶"></textarea>
      </div>
      <div class="form-row">
        <label>Image Path</label>
        <div class="img-input-wrap">
          <div style="flex:1">
            <input type="text" id="f-img" placeholder='e.g. ../assets/categories/logos/my-logo.jpg'>
            <div class="img-hint">
              üìÅ Aap ka folder structure:<br>
              <code style="background:#f0ecff;padding:2px 6px;border-radius:4px;font-size:11px">assets/categories/logos/file.jpg</code><br>
              <code style="background:#f0ecff;padding:2px 6px;border-radius:4px;font-size:11px">assets/categories/social/file.jpg</code><br>
              Admin folder se path: <b>../assets/categories/logos/file.jpg</b><br>
              Use <b>#</b> to show placeholder until image is ready.
            </div>
          </div>
          <img id="f-img-preview" class="img-preview" alt="preview">
        </div>
      </div>
      <div class="form-row">
        <label>Tags <span style="font-weight:400;font-size:11px;text-transform:none;letter-spacing:0">(type and press Enter)</span></label>
        <div class="tags-input" id="tagsInput">
          <input type="text" class="tag-type-input" id="tagTypeInput" placeholder="Type tag‚Ä¶">
        </div>
      </div>
    </div>
    <div class="modal-foot">
      <button class="modal-btn btn-cancel" id="modalCancel"><i class="fas fa-times"></i> Cancel</button>
      <button class="modal-btn btn-submit" id="modalSubmit"><i class="fas fa-check"></i> Save Project</button>
    </div>
  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"><i class="fas fa-check-circle"></i> <span id="toastMsg">Saved!</span></div>

<script>
/* ‚îÄ‚îÄ DEFAULT DATA (inline so no path issues) ‚îÄ‚îÄ */
var portfolioData = [
  {id:1,cat:"Logo Design",title:"The Thi Agency",desc:"Modern minimalist brand identity for a creative agency.",img:"#",tags:["logo","minimal"]},
  {id:2,cat:"Logo Design",title:"Motorcycle Style",desc:"Bold typographic logo for a motorcycle lifestyle brand.",img:"#",tags:["logo","typography"]},
  {id:3,cat:"Logo Design",title:"Zalmpine Mark",desc:"Premium monogram for a high-end lifestyle brand.",img:"#",tags:["logo","premium"]},
  {id:4,cat:"Logo Design",title:"Clinic Center",desc:"Clean healthcare logo with professional appeal.",img:"#",tags:["logo","medical"]},
  {id:5,cat:"Logo Design",title:"bff Wordmark",desc:"Playful wordmark for a lifestyle startup.",img:"#",tags:["logo","wordmark"]},
  {id:6,cat:"Logo Design",title:"LAKKI Brand",desc:"Bold slab-serif wordmark for a retail brand.",img:"#",tags:["logo","retail"]},
  {id:7,cat:"Logo Design",title:"IMMY Symbol",desc:"Symbol + wordmark combo for a personal brand.",img:"#",tags:["logo","personal"]},
  {id:8,cat:"Logo Design",title:"Dalmune Geometric",desc:"Geometric mark for a premium brand identity.",img:"#",tags:["logo","geometric"]},
  {id:9,cat:"Social Media",title:"Branding Post Series",desc:"Vibrant social media posts for brand awareness.",img:"#",tags:["social","post"]},
  {id:10,cat:"Social Media",title:"Business Branding",desc:"Consistent branding visuals for social platforms.",img:"#",tags:["social","branding"]},
  {id:11,cat:"Social Media",title:"Event Post Design",desc:"Eye-catching event announcement post.",img:"#",tags:["social","event"]},
  {id:12,cat:"Social Media",title:"USA Flag Promo",desc:"Patriotic themed promotional social graphics.",img:"#",tags:["social","usa"]},
  {id:13,cat:"Social Media",title:"Limited Drop Post",desc:"Product drop announcement with urgency visuals.",img:"#",tags:["social","product"]},
  {id:14,cat:"Social Media",title:"Promotional Banner",desc:"Clean promotional banner for social advertising.",img:"#",tags:["social","ad"]},
  {id:15,cat:"Social Media",title:"Lifestyle Graphic",desc:"Engaging lifestyle content graphic.",img:"#",tags:["social","lifestyle"]},
  {id:16,cat:"Thumbnails",title:"YouTube Thumbnail A",desc:"High-CTR thumbnail for content creators.",img:"#",tags:["thumb","youtube"]},
  {id:17,cat:"Thumbnails",title:"Reel Cover Design",desc:"Eye-catching reel/story cover for Instagram.",img:"#",tags:["thumb","reel"]},
  {id:18,cat:"Thumbnails",title:"Design Reel Cover",desc:"Bold design-niche thumbnail with strong typography.",img:"#",tags:["thumb","design"]},
  {id:19,cat:"Thumbnails",title:"Advanced SEO Thumb",desc:"Clean professional thumbnail for an SEO tutorial.",img:"#",tags:["thumb","seo"]},
  {id:20,cat:"Thumbnails",title:"Website Design Thumb",desc:"Modern web design tutorial thumbnail.",img:"#",tags:["thumb","web"]},
  {id:21,cat:"Thumbnails",title:"Trend Alert Thumb",desc:"Trending topic alert thumbnail.",img:"#",tags:["thumb","trend"]},
  {id:22,cat:"Poster & Flyer",title:"Event Flyer",desc:"Print-ready event flyer with bold visuals.",img:"#",tags:["poster","event"]},
  {id:23,cat:"Poster & Flyer",title:"Promotions Poster",desc:"Commercial promotional poster for retail.",img:"#",tags:["poster","promo"]},
  {id:24,cat:"Poster & Flyer",title:"Motivational Poster",desc:"Clean motivational quote poster.",img:"#",tags:["poster","quote"]},
  {id:25,cat:"Poster & Flyer",title:"Food Promo Flyer",desc:"Delicious food promotional flyer.",img:"#",tags:["poster","food"]},
  {id:26,cat:"Brand Identity",title:"Full Brand Package",desc:"Logo + colors + typography + full brand guide.",img:"#",tags:["brand","identity"]},
  {id:27,cat:"Brand Identity",title:"Startup Brand Kit",desc:"Complete startup identity package.",img:"#",tags:["brand","startup"]},
  {id:28,cat:"Brand Identity",title:"Personal Brand",desc:"Cohesive personal brand for an influencer.",img:"#",tags:["brand","personal"]},
  {id:29,cat:"Reels & Video",title:"Short Form Edit",desc:"Dynamic short-form video for Instagram Reels.",img:"#",tags:["reel","video"]},
  {id:30,cat:"Reels & Video",title:"Product Showcase",desc:"Promotional product reel with motion graphics.",img:"#",tags:["reel","product"]},
  {id:31,cat:"Reels & Video",title:"Lifestyle Reel",desc:"Engaging lifestyle content reel.",img:"#",tags:["reel","lifestyle"]}
];
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   LOGIN CREDENTIALS ‚Äî Change these!
   Username: whatifstudios
   Password:  admin@2026
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
var ADMIN_USERS = [
  { user: 'whatifstudios', pass: 'admin@2026', name: 'Zulqarnain' }
];

(function(){

  /* ‚îÄ‚îÄ LOGIN LOGIC ‚îÄ‚îÄ */
  var SESSION_KEY = 'wis_admin_logged';

  function checkLogin(){
    var s = sessionStorage.getItem(SESSION_KEY);
    if(s){
      var u = JSON.parse(s);
      document.getElementById('loginScreen').classList.add('hidden');
      document.getElementById('loggedName').textContent = u.name;
    }
  }

  document.getElementById('eyeBtn').addEventListener('click', function(){
    var inp = document.getElementById('loginPass');
    var ic  = this.querySelector('i');
    if(inp.type==='password'){ inp.type='text'; ic.className='fas fa-eye-slash'; }
    else { inp.type='password'; ic.className='fas fa-eye'; }
  });

  function doLogin(){
    var u = document.getElementById('loginUser').value.trim();
    var p = document.getElementById('loginPass').value;
    var found = ADMIN_USERS.find(function(a){ return a.user===u && a.pass===p; });
    var errEl = document.getElementById('loginError');
    var box   = document.querySelector('.login-box');
    if(found){
      sessionStorage.setItem(SESSION_KEY, JSON.stringify({name:found.name}));
      document.getElementById('loginScreen').classList.add('hidden');
      document.getElementById('loggedName').textContent = found.name;
      errEl.classList.remove('show');
    } else {
      errEl.classList.add('show');
      box.classList.remove('login-shake');
      void box.offsetWidth;
      box.classList.add('login-shake');
    }
  }

  document.getElementById('loginBtn').addEventListener('click', doLogin);
  document.getElementById('loginPass').addEventListener('keydown', function(e){ if(e.key==='Enter') doLogin(); });
  document.getElementById('loginUser').addEventListener('keydown', function(e){ if(e.key==='Enter') document.getElementById('loginPass').focus(); });

  document.getElementById('logoutBtn').addEventListener('click', function(){
    if(!confirm('Logout from admin panel?')) return;
    sessionStorage.removeItem(SESSION_KEY);
    document.getElementById('loginScreen').classList.remove('hidden');
    document.getElementById('loginUser').value='';
    document.getElementById('loginPass').value='';
  });

  checkLogin();

  /* ‚îÄ‚îÄ Load from localStorage if exists ‚îÄ‚îÄ */
  var data;
  try {
    var saved = JSON.parse(localStorage.getItem('wis_portfolio') || 'null');
    data = (saved && saved.length) ? saved : JSON.parse(JSON.stringify(portfolioData));
  } catch(e){ data = JSON.parse(JSON.stringify(portfolioData)); }

  var activeFilter = 'All';
  var editingId    = null;
  var tagsList     = [];

  var catIconsAdmin = {
    'All':            'fas fa-th-large','Logo Design':'fas fa-pen-nib',
    'Social Media':   'fas fa-hashtag','Thumbnails':'fab fa-youtube',
    'Poster & Flyer': 'fas fa-layer-group','Brand Identity':'fas fa-star','Reels & Video':'fas fa-film',
  };
  function icon(cat){ return catIconsAdmin[cat]||'fas fa-folder'; }

  /* ‚îÄ‚îÄ Save to localStorage ‚îÄ‚îÄ */
  function saveData(msg){
    try { localStorage.setItem('wis_portfolio', JSON.stringify(data)); } catch(e){}
    showToast(msg || 'Changes saved!');
    renderSidebar();
    renderItems();
  }

  /* ‚îÄ‚îÄ Toast ‚îÄ‚îÄ */
  function showToast(msg){
    var t = document.getElementById('toast');
    document.getElementById('toastMsg').textContent = msg;
    t.classList.add('show');
    setTimeout(function(){ t.classList.remove('show'); }, 2800);
  }

  /* ‚îÄ‚îÄ Sidebar ‚îÄ‚îÄ */
  function renderSidebar(){
    var cats = ['All'].concat([...new Set(data.map(function(d){ return d.cat; }))]);
    document.getElementById('sb-total').textContent = data.length;
    document.getElementById('sb-cats').textContent  = cats.length-1;
    var cl = document.getElementById('catsList');
    cl.innerHTML = cats.map(function(cat){
      var cnt = cat==='All' ? data.length : data.filter(function(d){ return d.cat===cat; }).length;
      return '<div class="cat-item '+(cat===activeFilter?'selected':'')+'" data-cat="'+cat+'">'
        +'<span class="cat-item-left"><i class="'+icon(cat)+'"></i> '+cat+'</span>'
        +'<span class="cat-badge">'+cnt+'</span>'
        +'</div>';
    }).join('');
    cl.querySelectorAll('.cat-item').forEach(function(el){
      el.addEventListener('click', function(){
        activeFilter = el.dataset.cat;
        document.getElementById('activeLabel').textContent = activeFilter;
        renderSidebar();
        renderItems();
      });
    });
  }

  /* ‚îÄ‚îÄ Items Grid ‚îÄ‚îÄ */
  function renderItems(){
    var grid    = document.getElementById('itemsGrid');
    var visible = activeFilter==='All' ? data : data.filter(function(d){ return d.cat===activeFilter; });
    if(!visible.length){
      grid.innerHTML = '<div style="grid-column:1/-1;text-align:center;padding:60px 20px;color:var(--text-muted)"><i class="fas fa-folder-open" style="font-size:40px;margin-bottom:12px;display:block;opacity:.3"></i><p style="font-weight:600">No projects in this category yet.</p></div>';
      return;
    }
    grid.innerHTML = visible.map(function(item){
      var hasImg = item.img && item.img!=='#';
      return '<div class="item-card" data-id="'+item.id+'">'
        +'<div class="item-thumb">'
          +(hasImg
            ? '<img src="'+item.img+'" alt="'+item.title+'" loading="lazy" onerror="this.style.display=\'none\';this.nextElementSibling.style.display=\'flex\'">'
              +'<div class="item-thumb-placeholder" style="display:none"><i class="fas fa-image"></i><span>Image not found</span></div>'
            : '<div class="item-thumb-placeholder"><i class="'+icon(item.cat)+'" style="font-size:36px;opacity:.3"></i><span style="font-size:11px;opacity:.5">No image yet</span></div>'
          )
        +'</div>'
        +'<div class="item-body">'
          +'<div class="item-cat-tag"><i class="'+icon(item.cat)+'"></i> '+item.cat+'</div>'
          +'<div class="item-title">'+item.title+'</div>'
          +'<div class="item-desc">'+item.desc+'</div>'
          +'<div class="item-actions">'
            +'<button class="iact iact-edit" data-id="'+item.id+'"><i class="fas fa-edit"></i> Edit</button>'
            +'<button class="iact iact-del" data-id="'+item.id+'"><i class="fas fa-trash"></i> Delete</button>'
          +'</div>'
        +'</div>'
      +'</div>';
    }).join('');

    grid.querySelectorAll('.iact-edit').forEach(function(btn){
      btn.addEventListener('click', function(){ openModal(parseInt(btn.dataset.id)); });
    });
    grid.querySelectorAll('.iact-del').forEach(function(btn){
      btn.addEventListener('click', function(){ deleteItem(parseInt(btn.dataset.id)); });
    });
  }

  function deleteItem(id){
    if(!confirm('Delete this project?')) return;
    data = data.filter(function(d){ return d.id!==id; });
    saveData('Project deleted!');
  }

  /* ‚îÄ‚îÄ Modal ‚îÄ‚îÄ */
  function openModal(id){
    editingId = id || null;
    tagsList  = [];
    var modal = document.getElementById('modalBg');
    document.getElementById('modalTitle').textContent = id ? 'Edit Project' : 'Add New Project';
    document.getElementById('editId').value = id || '';
    document.getElementById('f-img-preview').classList.remove('show');

    if(id){
      var item = data.find(function(d){ return d.id===id; });
      if(!item) return;
      document.getElementById('f-title').value = item.title;
      document.getElementById('f-cat').value   = item.cat;
      document.getElementById('f-desc').value  = item.desc;
      document.getElementById('f-img').value   = item.img||'#';
      tagsList = (item.tags||[]).slice();
      if(item.img && item.img!=='#'){ var pi=document.getElementById('f-img-preview'); pi.src=item.img; pi.classList.add('show'); }
    } else {
      document.getElementById('f-title').value = '';
      document.getElementById('f-cat').value   = '';
      document.getElementById('f-desc').value  = '';
      document.getElementById('f-img').value   = '#';
    }
    renderTags();
    modal.classList.add('open');
    document.body.style.overflow='hidden';
    document.getElementById('f-title').focus();
  }
  function closeModal(){
    document.getElementById('modalBg').classList.remove('open');
    document.body.style.overflow='';
    editingId=null; tagsList=[];
  }

  /* tags */
  function renderTags(){
    var ti   = document.getElementById('tagsInput');
    var inp  = document.getElementById('tagTypeInput');
    ti.innerHTML='';
    tagsList.forEach(function(t,i){
      var chip = document.createElement('span');
      chip.className='tag-chip';
      chip.innerHTML = t+' <i class="fas fa-times"></i>';
      chip.addEventListener('click', function(){ tagsList.splice(i,1); renderTags(); });
      ti.appendChild(chip);
    });
    ti.appendChild(inp);
    inp.addEventListener('keydown', function(e){
      if((e.key==='Enter'||e.key===',')&&inp.value.trim()){
        e.preventDefault();
        tagsList.push(inp.value.trim().replace(/,/g,''));
        inp.value='';
        renderTags();
      }
    });
    ti.addEventListener('click', function(){ inp.focus(); });
    ti.addEventListener('focus', function(){ ti.classList.add('focused'); }, true);
    ti.addEventListener('blur',  function(){ ti.classList.remove('focused'); }, true);
  }

  document.getElementById('f-img').addEventListener('input', function(){
    var v = this.value.trim();
    var pi = document.getElementById('f-img-preview');
    if(v && v!=='#'){ pi.src=v; pi.classList.add('show'); }
    else { pi.classList.remove('show'); }
  });

  document.getElementById('modalSubmit').addEventListener('click', function(){
    var title = document.getElementById('f-title').value.trim();
    var cat   = document.getElementById('f-cat').value;
    var desc  = document.getElementById('f-desc').value.trim();
    var img   = document.getElementById('f-img').value.trim()||'#';
    if(!title||!cat){ showToast('Please fill in title and category!'); return; }

    if(editingId){
      var item = data.find(function(d){ return d.id===editingId; });
      if(item){ item.title=title; item.cat=cat; item.desc=desc||item.desc; item.img=img; item.tags=tagsList.slice(); }
      saveData('Project updated!');
    } else {
      var newId = data.length ? Math.max.apply(null, data.map(function(d){ return d.id; }))+1 : 1;
      data.push({ id:newId, cat:cat, title:title, desc:desc||'Custom design work by What If Studios.', img:img, tags:tagsList.slice() });
      saveData('Project added!');
    }
    closeModal();
  });

  document.getElementById('addBtn').addEventListener('click', function(){ openModal(null); });
  document.getElementById('quickAddBtn').addEventListener('click', function(){ openModal(null); });
  document.getElementById('modalClose').addEventListener('click', closeModal);
  document.getElementById('modalCancel').addEventListener('click', closeModal);
  document.getElementById('modalBg').addEventListener('click', function(e){ if(e.target===this) closeModal(); });
  document.addEventListener('keydown', function(e){ if(e.key==='Escape') closeModal(); });

  /* ‚îÄ‚îÄ Save All ‚îÄ‚îÄ */
  document.getElementById('saveAllBtn').addEventListener('click', function(){ saveData('All changes saved!'); });

  /* ‚îÄ‚îÄ Reset ‚îÄ‚îÄ */
  document.getElementById('resetDataBtn').addEventListener('click', function(){
    if(!confirm('Reset to default data? All your changes will be lost!')) return;
    localStorage.removeItem('wis_portfolio');
    data = JSON.parse(JSON.stringify(portfolioData));
    saveData('Reset to default!');
  });

  /* ‚îÄ‚îÄ Export ‚îÄ‚îÄ */
  document.getElementById('exportBtn').addEventListener('click', function(){
    var blob = new Blob([JSON.stringify(data,null,2)],{type:'application/json'});
    var a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'portfolio-data.json';
    a.click();
    showToast('JSON exported!');
  });

  /* ‚îÄ‚îÄ Import ‚îÄ‚îÄ */
  document.getElementById('importFile').addEventListener('change', function(e){
    var file = e.target.files[0];
    if(!file) return;
    var reader = new FileReader();
    reader.onload = function(ev){
      try {
        var imported = JSON.parse(ev.target.result);
        if(!Array.isArray(imported)) throw new Error('Not an array');
        data = imported;
        saveData('Data imported successfully!');
      } catch(err){ showToast('Import failed ‚Äî invalid JSON file'); }
    };
    reader.readAsText(file);
    e.target.value='';
  });

  /* ‚îÄ‚îÄ Copy ‚îÄ‚îÄ */
  document.getElementById('copyDataBtn').addEventListener('click', function(){
    navigator.clipboard.writeText(JSON.stringify(data,null,2))
      .then(function(){ showToast('Copied to clipboard!'); })
      .catch(function(){ showToast('Copy failed ‚Äî please use Export instead'); });
  });

  /* ‚îÄ‚îÄ INIT ‚îÄ‚îÄ */
  renderSidebar();
  renderItems();
})();
</script>
</body>
</html>